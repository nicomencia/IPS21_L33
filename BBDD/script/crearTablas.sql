-- Crear todas las tablas
CREATE TABLE MEDICO (IDMEDICO varchar(9), NOMBRE varchar(20), APELLIDOS VARCHAR(20), EMAIL VARCHAR(40), CONSTRAINT PK_MEDICO PRIMARY KEY (IDMEDICO));
CREATE TABLE JORNADA_MEDICO (IDJORNADA_MEDICO VARCHAR(9), IDMEDICO varchar(9), DIA_INICIO DATE, DIA_FIN DATE, HORA_INICIO VARCHAR(20), HORA_FIN VARCHAR(20), CONSTRAINT PK_JORNADA_MEDICO PRIMARY KEY (IDJORNADA_MEDICO), CONSTRAINT FK_JORNADA_MEDICO FOREIGN KEY (IDMEDICO) REFERENCES MEDICO);
CREATE TABLE VACACIONES_MEDICO (IDVACACIONES_MEDICO VARCHAR(9), IDMEDICO varchar(9), DIA_INICIO DATE, DIA_FIN DATE, CONSTRAINT PK_VACACIONES_MEDICO PRIMARY KEY (IDVACACIONES_MEDICO), CONSTRAINT FK_VACACIONES_MEDICO FOREIGN KEY (IDMEDICO) REFERENCES MEDICO);
CREATE TABLE ENFERMERO (IDENFERMERO varchar(9), NOMBRE varchar(20), APELLIDOS VARCHAR(20), CONSTRAINT PK_ENFERMERO PRIMARY KEY (IDENFERMERO));
CREATE TABLE JORNADA_ENFERMERO (IDJORNADA_ENFERMERO VARCHAR(9), IDENFERMERO varchar(9), DIA_INICIO DATE, DIA_FIN DATE, HORA_INICIO VARCHAR(20), HORA_FIN VARCHAR(20), CONSTRAINT PK_JORNADA_ENFERMERO PRIMARY KEY (IDJORNADA_ENFERMERO), CONSTRAINT FK_JORNADA_ENFERMERO FOREIGN KEY (IDENFERMERO) REFERENCES ENFERMERO);
CREATE TABLE VACACIONES_ENFERMERO (IDVACACIONES_ENFERMERO VARCHAR(9), IDENFERMERO varchar(9), DIA_INICIO DATE, DIA_FIN DATE, CONSTRAINT PK_VACACIONES_ENFERMERO PRIMARY KEY (IDVACACIONES_ENFERMERO), CONSTRAINT FK_VACACIONES_ENFERMERO FOREIGN KEY (IDENFERMERO) REFERENCES ENFERMERO);
CREATE TABLE PACIENTE (DNI VARCHAR(9), NOMBRE varchar(20), APELLIDOS VARCHAR(20), EMAIL VARCHAR(40), TELEFONO VARCHAR(20), CONSTRAINT PK_PACIENTE PRIMARY KEY (DNI));
CREATE TABLE HISTORIAL (IDHISTORIAL VARCHAR(9), DNI VARCHAR(9), CONSTRAINT PK_HISTORIAL PRIMARY KEY (IDHISTORIAL), CONSTRAINT FK_HISTORIAL_PACIENTE FOREIGN KEY (DNI) REFERENCES PACIENTE);
CREATE TABLE CAUSA (IDCAUSA VARCHAR(9), DESCRIPCION VARCHAR(100), CONSTRAINT PK_CAUSA PRIMARY KEY (IDCAUSA));
CREATE TABLE CAUSA_HISTORIAL (IDCAUSA VARCHAR(9), IDHISTORIAL VARCHAR(9), CONSTRAINT PK_CAUSA_HISTORIAL PRIMARY KEY (IDCAUSA, IDHISTORIAL), CONSTRAINT FK_CAUSA_HISTORIAL_CAUSA FOREIGN KEY (IDCAUSA) REFERENCES CAUSA, CONSTRAINT FK_CAUSA_HISTORIAL_HISTORIAL FOREIGN KEY (IDHISTORIAL) REFERENCES HISTORIAL);
CREATE TABLE PRESCRIPCION (IDPRESCRIPCION VARCHAR(9), DNI VARCHAR(9), INSTRUCCION VARCHAR(50), HORA_ASIGNACION VARCHAR(20), DIA_ASIGNACION DATE, CONSTRAINT PK_PRESCRIPION PRIMARY KEY (IDPRESCRIPCION), CONSTRAINT FK_PRESCRIPCION_PACIENTE FOREIGN KEY (DNI) REFERENCES PACIENTE);
CREATE TABLE MEDICAMENTO (IDMEDICAMENTO VARCHAR(20), IDPRESCRIPCION VARCHAR(9), CANTIDAD INT, INTERVALO VARCHAR(20), DURACION VARCHAR(20), CONSTRAINT PK_MEDICAMENTO PRIMARY KEY (IDMEDICAMENTO), CONSTRAINT FK_MEDICAMENTO_PRESCRIPCION FOREIGN KEY (IDPRESCRIPCION) REFERENCES PRESCRIPCION)
CREATE TABLE CITA (IDCITA VARCHAR(9), DNI VARCHAR(9), IDMEDICO VARCHAR(9), FECHA DATE, HORA VARCHAR(20), UBICACION VARCHAR(20), ASISTENCIA BOOLEAN, CONSTRAINT PK_CITA PRIMARY KEY (IDCITA), CONSTRAINT FK_CITA_MEDICO FOREIGN KEY (IDMEDICO) REFERENCES MEDICO, CONSTRAINT FK_CITA_PAICENTE FOREIGN KEY (DNI) REFERENCES PACIENTE);
CREATE TABLE DIAGNOSTICO (IDDIAGNOSTICO VARCHAR(9), IDCITA VARCHAR(9), DESCRIPCION VARCHAR(100), CONSTRAINT PK_DIAGNOSTICO PRIMARY KEY (IDDIAGNOSTICO), CONSTRAINT FK_DIAGNOSTICO_CITA FOREIGN KEY (IDCITA) REFERENCES CITA);
